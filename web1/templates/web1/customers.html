{% extends "Web1/base.html" %}

{% block body %}

<style>
    body{
        background:rgb(245, 246, 248);;
    }
    .row {
        display: grid;
        width: 100%;
        height: 250px ;
        grid-template-columns: 1fr 1fr 1fr;
        


    }
    .col{
        
        margin: 18px;
        padding: 2px;
        border-radius: 7px;
        background: rgb(255, 255, 255);
    }
    .card{
        margin: 30px;
        width: 80%;
    }
    .button{
        width: 100%;
        margin: 5px;
    }

    .button button{
        width: 100%;
        background-color: rgb(124, 181, 255);
        border-radius: 5px;
    }
    a {
        color: white;
        font-size: 20px;
        font-family: monospace;
    }

    .heading{
        margin: 10px;
        border-bottom: black solid 2px;
        font-family: monospace;
        font-size: 30px;
        font-weight: bold;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 10px;
    }
    
    .table{
        margin: 10px;
        padding: 10px;
        border-bottom: black solid 2px;

    }
    .row-2{
        display:grid;
        grid-template-columns: 1fr;
        width: 100%;
        height: 100px;
        margin: 4px;
        padding: 6px;
        background: rgb(255, 255, 255);
    }
    .form{
        padding: 10px;
        margin: 10px;
    }
    .orders{
        margin-left :170px;
        margin-top :30px;
        font-family: fantasy;
        font-size: 60px;
        font-weight: bold;
    }

    .icon{
    color:black;
    font-size:16px;
    }
</style>

<div class="row">
    <div class="col">
        <div class="heading">Customer</div>
        <div class="card">
            <div class="button">
                <button><a href="{% url 'updatecustomer' customer.id %}">Update</a></button>
            </div>
            <div class="button">
                <button style="background-color: tomato;"><a href="{% url 'deletecustomer' customer.id %}">Delete</a></button>
            </div>
        </div>
    </div>
    <div class="col">
        <div class="heading">
            Customer Information
        </div>
        <div class="table">
            <table>
                <tr>
                    <th>Name -</th>
                    <th>{{customer.name }}</th>
                </tr>
                <tr>
                    <th>Phone -</th>
                    <th>{{customer.phone}}</th>
                </tr>
                <tr>
                    <th>E-mail -</th>
                    <th>{{customer.email }}</th>
                </tr>
            </table>
            
        </div>
    </div>

    <div class="col">
        <div class="heading">
            Total Orders
        </div>
        <div class="orders">{{ orders_count }}</div>
    </div>
    
</div>

<div class="row-2">
    <form class="form" method="get" action="{% url 'customers' customer.id %}">
        {{ myFilter.form}}
        <button type="submit">Search</button>
    </form>
</div>

<div class="row-2">
    <table>
        <tr>
            <th>Product</th>
            <th>Note</th>
            <th>Date Ordered</th>
            <th>Ordered Time</th>
            <th>Status</th>
            <th>Update</th>
            <th>Delete</th>
        </tr>
        {% for item in order %}
        <tr>
            <th>{{item.product}}</th>
            <th>{{item.note}}</th>
            <th>{{item.date_created.date}}</th>
            <th>{{item.date_created.time}}</th>
            <th>{{item.status}}</th>
            <th><a class="icon" href="{% url 'updateorder' item.id %}">Update</a></th>
            <th><a class="icon"  href="{% url 'deleteorder' item.id %}">Delete</a></th>
        </tr>
        {% endfor %}
    </table>

</div>


{% endblock %}
